<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”¥ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© ğŸ”¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap');
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        .military-bg {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255,0,0,0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(0,255,0,0.1) 0%, transparent 50%),
                linear-gradient(45deg, rgba(0,0,0,0.8) 0%, rgba(20,20,40,0.9) 100%);
            position: relative;
        }
        
        .team-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(145deg, rgba(30,30,30,0.9) 0%, rgba(60,60,60,0.8) 100%);
            border: 2px solid transparent;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .team-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(0,0,0,0.5),
                0 0 30px rgba(255,255,255,0.1),
                inset 0 1px 0 rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.3);
        }
        
        .team-red { border-left: 5px solid #ff4444; }
        .team-blue { border-left: 5px solid #4444ff; }
        .team-green { border-left: 5px solid #44ff44; }
        .team-yellow { border-left: 5px solid #ffff44; }
        
        .weapon-card {
            transition: all 0.3s ease;
            background: linear-gradient(145deg, rgba(40,40,40,0.95) 0%, rgba(20,20,20,0.95) 100%);
            border: 2px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
        }
        
        .weapon-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            border-color: rgba(255,255,255,0.3);
        }
        
        .health-bar {
            background: linear-gradient(90deg, #ff4444 0%, #ffaa44 50%, #44ff44 100%);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(145deg, #2563eb 0%, #1d4ed8 100%);
            border: 2px solid #3b82f6;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(145deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: linear-gradient(145deg, #dc2626 0%, #991b1b 100%);
            border: 2px solid #ef4444;
        }
        
        .btn-danger:hover {
            background: linear-gradient(145deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: linear-gradient(145deg, #059669 0%, #047857 100%);
            border: 2px solid #10b981;
        }
        
        .btn-success:hover {
            background: linear-gradient(145deg, #10b981 0%, #059669 100%);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            transform: translateY(-2px);
        }
        
        .attack-animation {
            animation: attackPulse 0.8s ease-in-out;
        }
        
        @keyframes attackPulse {
            0% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.1); filter: brightness(2); box-shadow: 0 0 30px #ff4444; }
            100% { transform: scale(1); filter: brightness(1); }
        }
        
        .damage-text {
            animation: damageFloat 1.5s ease-out forwards;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        @keyframes damageFloat {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-60px) scale(0.8); }
        }
        
        .victory-animation {
            animation: victoryBounce 1.5s ease-in-out infinite;
        }
        
        @keyframes victoryBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
        }
        
        .modal {
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1f2937 0%, #111827 100%);
            border: 2px solid #3b82f6;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 400px;
            padding: 16px 20px;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-success {
            background: linear-gradient(135deg, #10b981, #059669);
            border: 2px solid #34d399;
            color: white;
        }
        
        .notification-error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid #f87171;
            color: white;
        }
        
        .notification-info {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            border: 2px solid #60a5fa;
            color: white;
        }
    </style>
</head>
<body class="military-bg min-h-screen text-white">


    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="fixed top-4 left-4 right-4 z-40 flex justify-between items-center">
        <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
        <div class="flex space-x-4 space-x-reverse">
            <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <button onclick="Game.toggleGameGuide()" 
                    class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white p-4 rounded-full shadow-2xl transition-all hover:scale-110 border-2 border-white/20">
                <i class="fas fa-info-circle text-2xl"></i>
            </button>
            
            <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ± -->
            <button onclick="Game.toggleDeveloperInfo()" 
                    class="bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-500 hover:to-teal-500 text-white p-4 rounded-full shadow-2xl transition-all hover:scale-110 border-2 border-white/20">
                <i class="fas fa-user-tie text-2xl"></i>
            </button>

        </div>
        

    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div id="gameGuideModal" class="modal fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="modal-content rounded-3xl p-8 max-w-4xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="text-6xl mb-4">ğŸ®</div>
                <h2 class="text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                    ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨
                </h2>
                <p class="text-xl text-gray-300">Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-right mb-8">
                <div class="bg-black/30 rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4 text-yellow-400">
                        <i class="fas fa-users mr-2"></i>
                        Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙØ±Ù‚
                    </h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>â€¢ ÙƒÙ„ ÙØ±ÙŠÙ‚ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 100 Ù†Ù‚Ø·Ø© ØµØ­Ø© Ùˆ 100 Ù†Ù‚Ø·Ø© Ø´Ø±Ø§Ø¡</li>
                        <li>â€¢ ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ Ø­Ø³Ø¨ Ø±ØºØ¨ØªÙƒ</li>
                        <li>â€¢ Ø§Ø³ØªØ®Ø¯Ù… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ Ø®ØµÙ… Ø§Ù„Ù†Ù‚Ø§Ø·</li>
                    </ul>
                </div>
                
                <div class="bg-black/30 rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4 text-green-400">
                        <i class="fas fa-shopping-cart mr-2"></i>
                        Ø´Ø±Ø§Ø¡ Ø§Ù„Ø£Ø³Ù„Ø­Ø©
                    </h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>â€¢ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ù…ØªØ¬Ø± ÙˆØ§Ø®ØªØ± Ø§Ù„ÙØ±ÙŠÙ‚</li>
                        <li>â€¢ Ø§Ø´ØªØ±ÙŠ Ø£Ø³Ù„Ø­Ø© Ù…ØªÙ†ÙˆØ¹Ø©: Ù‡Ø¬ÙˆÙ…ÙŠØ©ØŒ Ø¯ÙØ§Ø¹ÙŠØ©ØŒ Ø¹Ù„Ø§Ø¬ÙŠØ©</li>
                        <li>â€¢ ÙƒÙ„ Ø³Ù„Ø§Ø­ Ù„Ù‡ Ù‚ÙˆØ© ÙˆØªÙƒÙ„ÙØ© Ù…Ø®ØªÙ„ÙØ©</li>
                    </ul>
                </div>
                
                <div class="bg-black/30 rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4 text-red-400">
                        <i class="fas fa-sword mr-2"></i>
                        Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
                    </h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>â€¢ Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ø§Ø¬Ù… ÙˆØ§Ù„Ù‡Ø¯Ù</li>
                        <li>â€¢ Ø­Ø¯Ø¯ Ø§Ù„Ø³Ù„Ø§Ø­ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡</li>
                        <li>â€¢ Ø§Ù„Ø£Ø³Ù„Ø­Ø© ØªÙØ³ØªÙ‡Ù„Ùƒ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… (Ø¹Ø¯Ø§ Ø§Ù„Ø¯Ø±ÙˆØ¹)</li>
                    </ul>
                </div>
                
                <div class="bg-black/30 rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4 text-purple-400">
                        <i class="fas fa-trophy mr-2"></i>
                        Ø§Ù„ÙÙˆØ² ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª
                    </h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>â€¢ Ø¢Ø®Ø± ÙØ±ÙŠÙ‚ ÙŠØ¨Ù‚Ù‰ Ø¹Ù„Ù‰ Ù‚ÙŠØ¯ Ø§Ù„Ø­ÙŠØ§Ø© ÙŠÙÙˆØ²</li>
                        <li>â€¢ Ø£ÙƒÙ…Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª</li>
                        <li>â€¢ Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ÙˆØ­Ø·Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©</li>
                    </ul>
                </div>
            </div>
            
            <div class="bg-gradient-to-r from-yellow-600/20 to-orange-600/20 rounded-2xl p-6 border border-yellow-500/30 mb-6">
                <h4 class="text-2xl font-bold text-yellow-400 mb-4 text-center">
                    <i class="fas fa-lightbulb mr-2"></i>
                    Ù†ØµØ§Ø¦Ø­ Ù„Ù„ÙÙˆØ²
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="bg-black/20 rounded-lg p-4">
                        <p class="text-gray-300">â€¢ ÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ù‡Ø¬ÙˆÙ… ÙˆØ§Ù„Ø¯ÙØ§Ø¹</p>
                        <p class="text-gray-300">â€¢ Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø¨Ø°ÙƒØ§Ø¡</p>
                    </div>
                    <div class="bg-black/20 rounded-lg p-4">
                        <p class="text-gray-300">â€¢ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø®Ø§ØµØ© Ù„Ù‡Ø§ ØªØ£Ø«ÙŠØ±Ø§Øª ÙØ±ÙŠØ¯Ø©</p>
                        <p class="text-gray-300">â€¢ Ø®Ø·Ø· Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØªÙƒ Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬ÙˆÙ…</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button onclick="Game.toggleGameGuide()" 
                        class="btn-primary text-white px-8 py-4 rounded-xl font-bold text-xl">
                    <i class="fas fa-times mr-2"></i>
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ± -->
    <div id="developerInfoModal" class="modal fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="modal-content rounded-3xl p-8 max-w-md mx-4 text-center">
            <div class="text-6xl mb-6">ğŸ‘¨â€ğŸ’»</div>
            <h2 class="text-3xl font-bold mb-4 bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent">
                Ù…Ø·ÙˆØ± Ø§Ù„Ù„Ø¹Ø¨Ø©
            </h2>
            <h3 class="text-2xl font-bold mb-2 text-white">
                Ø£. Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ù†ØµØ± Ø§Ù„Ù„Ù‡
            </h3>
            <p class="text-lg text-green-300 mb-6 font-semibold">
                Ù…Ø¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            </p>
            <p class="text-gray-300 mb-6 leading-relaxed">
                Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©! 
                ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø© Ù„ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ù‚ØªØ§Ù„ÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØªØ±ÙÙŠÙ‡ÙŠØ©.
            </p>
            <div class="space-y-4">
                <a href="https://www.instagram.com/nasrallah_2002/" target="_blank" 
                   class="block w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-400 hover:to-purple-500 text-white px-6 py-4 rounded-xl font-bold text-lg transition-all hover:scale-105">
                    <i class="fab fa-instagram mr-2"></i>
                    ØªØ§Ø¨Ø¹Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…
                </a>
                <button onclick="Game.toggleDeveloperInfo()" 
                        class="w-full btn-primary text-white px-6 py-4 rounded-xl font-bold text-lg">
                    <i class="fas fa-times mr-2"></i>
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="homeScreen" class="container mx-auto px-4 py-8 pt-24">
        <div class="text-center mb-16">
            <h1 class="text-7xl font-black mb-6 bg-gradient-to-r from-red-500 via-yellow-500 to-orange-600 bg-clip-text text-transparent drop-shadow-2xl">
                <i class="fas fa-skull-crossbones mr-4"></i>
                Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©
                <i class="fas fa-fire ml-4"></i>
            </h1>
            <p class="text-2xl text-gray-300 mb-8 font-semibold">
                <i class="fas fa-shield-alt mr-2"></i>
                ØªÙ†Ø§ÙØ³ØŒ Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø£Ø³Ù„Ø­Ø©ØŒ ÙˆØ§Ù‡Ø²Ù… Ø®ØµÙˆÙ…Ùƒ ÙÙŠ Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø¹Ø±ÙƒØ©!
                <i class="fas fa-sword ml-2"></i>
            </p>
        </div>

        <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙØ±Ù‚ -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 mb-12" id="teamsContainer">
            <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙØ±Ù‚ Ù‡Ù†Ø§ -->
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="bg-gradient-to-br from-gray-900/90 to-black/80 rounded-3xl p-8 mb-8 border border-gray-600/50">
            <h3 class="text-4xl font-bold mb-8 text-center">
                <i class="fas fa-cog text-yellow-500 mr-3"></i>
                Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©
                <i class="fas fa-crown text-yellow-500 ml-3"></i>
            </h3>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ø§Ø· -->
                <div class="bg-gradient-to-br from-blue-900/50 to-purple-900/50 rounded-2xl p-6 border border-blue-500/30">
                    <h4 class="text-2xl font-bold mb-6 text-blue-300">
                        <i class="fas fa-coins mr-2"></i>
                        Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ø§Ø·
                    </h4>
                    
                    <select id="teamSelect" class="w-full p-4 rounded-xl bg-black/50 text-white border-2 border-gray-600 focus:border-blue-500 mb-4 text-lg font-semibold">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </select>
                    
                    <input type="number" id="pointsInput" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø·..." 
                           class="w-full p-4 rounded-xl bg-black/50 text-white border-2 border-gray-600 focus:border-yellow-500 placeholder-gray-400 mb-6 text-lg font-semibold">
                    
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <button onclick="Game.addPoints()" class="btn-success text-white px-6 py-4 rounded-xl font-bold text-lg">
                            <i class="fas fa-plus-circle mr-2"></i>
                            Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø·
                        </button>
                        <button onclick="Game.removePoints()" class="btn-danger text-white px-6 py-4 rounded-xl font-bold text-lg">
                            <i class="fas fa-minus-circle mr-2"></i>
                            Ø®ØµÙ… Ù†Ù‚Ø§Ø·
                        </button>
                    </div>
                    
                    <!-- Ø£Ø²Ø±Ø§Ø± Ø³Ø±ÙŠØ¹Ø© -->
                    <div class="grid grid-cols-4 gap-2">
                        <button onclick="Game.quickAddPoints(10)" class="bg-green-600/80 hover:bg-green-500 px-3 py-2 rounded-lg text-sm font-bold">+10</button>
                        <button onclick="Game.quickAddPoints(25)" class="bg-green-600/80 hover:bg-green-500 px-3 py-2 rounded-lg text-sm font-bold">+25</button>
                        <button onclick="Game.quickAddPoints(50)" class="bg-green-600/80 hover:bg-green-500 px-3 py-2 rounded-lg text-sm font-bold">+50</button>
                        <button onclick="Game.quickAddPoints(100)" class="bg-green-600/80 hover:bg-green-500 px-3 py-2 rounded-lg text-sm font-bold">+100</button>
                    </div>
                </div>
                
                <!-- Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
                <div class="bg-gradient-to-br from-red-900/50 to-orange-900/50 rounded-2xl p-6 border border-red-500/30">
                    <h4 class="text-2xl font-bold mb-6 text-red-300">
                        <i class="fas fa-gamepad mr-2"></i>
                        Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©
                    </h4>
                    
                    <div class="space-y-4">
                        <button onclick="Game.showShop()" class="w-full btn-primary text-white px-6 py-4 rounded-xl font-bold text-xl">
                            <i class="fas fa-shopping-cart mr-3 text-yellow-400"></i>
                            Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø³Ù„Ø­Ø©
                        </button>
                        
                        <button onclick="Game.showBattle()" class="w-full btn-danger text-white px-6 py-4 rounded-xl font-bold text-xl">
                            <i class="fas fa-sword mr-3"></i>
                            Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
                        </button>
                        
                        <button onclick="Game.showChallenges()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-6 py-4 rounded-xl font-bold text-xl transition-all hover:scale-105">
                            <i class="fas fa-trophy mr-3"></i>
                            Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
                        </button>
                        
                        <button onclick="Game.resetGame()" class="w-full btn-primary text-white px-6 py-4 rounded-xl font-bold text-xl">
                            <i class="fas fa-redo mr-3"></i>
                            Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„
                        </button>
                    </div>
                    
                    <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
                    <div class="mt-6 bg-black/30 rounded-xl p-4">
                        <p class="text-sm text-gray-400 mb-3">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©:</p>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="text-center">
                                <div class="text-2xl font-bold text-green-400" id="totalWeapons">0</div>
                                <div class="text-gray-400">Ø£Ø³Ù„Ø­Ø© Ù…Ø´ØªØ±Ø§Ø©</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-red-400" id="totalBattles">0</div>
                                <div class="text-gray-400">Ù…Ø¹Ø§Ø±Ùƒ Ø®Ø§Ø¶Øª</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØªØ¬Ø± -->
    <div id="shopScreen" class="hidden container mx-auto px-4 py-8 pt-24">
        <div class="text-center mb-8">
            <h2 class="text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">
                ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ ğŸ›’
            </h2>
            <p class="text-xl text-gray-300">Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ ÙˆØ§Ø´ØªØ±ÙŠ Ø£Ù‚ÙˆÙ‰ Ø§Ù„Ø£Ø³Ù„Ø­Ø©!</p>
        </div>

        <div class="mb-8 text-center">
            <select id="shopTeamSelect" class="p-4 rounded-xl bg-white/20 text-white text-xl font-bold border-2 border-yellow-500 mb-4">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </select>
            <div class="text-2xl font-bold">ğŸ’° Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©: <span id="availablePoints" class="text-yellow-400">100</span></div>
        </div>

        <div id="weaponsGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-8">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ù‡Ù†Ø§ -->
        </div>

        <div class="text-center">
            <button onclick="Game.showBattle()" class="btn-danger px-8 py-4 rounded-xl font-bold text-xl mr-4">
                âš”ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
            </button>
            <button onclick="Game.showHome()" class="btn-primary px-8 py-4 rounded-xl font-bold text-xl">
                ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø¹Ø±ÙƒØ© -->
    <div id="battleScreen" class="hidden container mx-auto px-4 py-8 pt-24">
        <div class="text-center mb-8">
            <h2 class="text-5xl font-bold mb-4 bg-gradient-to-r from-red-500 to-orange-600 bg-clip-text text-transparent">
                âš”ï¸ Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø¹Ø±ÙƒØ© âš”ï¸
            </h2>
            <p class="text-xl text-gray-300">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ø§Ø¬Ù… ÙˆØ§Ù„Ù‡Ø¯Ù ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ù‚ØªØ§Ù„!</p>
        </div>

        <div class="bg-gradient-to-br from-gray-900/90 to-black/80 rounded-3xl p-8 mb-8 border-2 border-red-500">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Ø§Ù„Ù…Ù‡Ø§Ø¬Ù… -->
                <div class="bg-gradient-to-br from-red-900/80 to-red-700/60 rounded-2xl p-6 border-2 border-red-500">
                    <h3 class="text-3xl font-bold mb-4 text-red-300">
                        <i class="fas fa-sword mr-2"></i>
                        Ø§Ù„Ù…Ù‡Ø§Ø¬Ù…
                    </h3>
                    <select id="attackerSelect" class="w-full p-4 rounded-xl bg-black/50 text-white mb-4 text-lg font-bold border-2 border-red-500">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </select>
                    <div id="attackerWeapons" class="mb-4">
                        <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…Ù‡Ø§Ø¬Ù… Ù‡Ù†Ø§ -->
                    </div>
                </div>

                <!-- Ø§Ù„Ù‡Ø¯Ù -->
                <div class="bg-gradient-to-br from-blue-900/80 to-blue-700/60 rounded-2xl p-6 border-2 border-blue-500">
                    <h3 class="text-3xl font-bold mb-4 text-blue-300">
                        <i class="fas fa-crosshairs mr-2"></i>
                        Ø§Ù„Ù‡Ø¯Ù
                    </h3>
                    <select id="targetSelect" class="w-full p-4 rounded-xl bg-black/50 text-white mb-4 text-lg font-bold border-2 border-blue-500">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </select>
                    <div class="text-center">
                        <div class="text-6xl mb-4">ğŸ¯</div>
                        <p class="text-gray-300">Ø§Ø®ØªØ± Ø§Ù„Ù‡Ø¯Ù Ø¨Ø¹Ù†Ø§ÙŠØ©!</p>
                    </div>
                </div>
            </div>

            <div class="text-center mb-8">
                <button onclick="Game.attack()" class="btn-danger text-white px-12 py-6 rounded-2xl font-black text-3xl">
                    <i class="fas fa-bomb mr-3"></i>
                    ğŸ”¥ Ù‡Ø¬ÙˆÙ… Ù…Ø¯Ù…Ø±! ğŸ”¥
                </button>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© -->
            <div class="bg-gradient-to-br from-gray-900/90 to-black/80 rounded-2xl p-6 border-2 border-gray-600">
                <h3 class="text-2xl font-bold mb-4 text-yellow-400">
                    <i class="fas fa-scroll mr-2"></i>
                    Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
                </h3>
                <div id="battleLog" class="max-h-96 overflow-y-auto">
                    <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø±ÙƒØ© -->
            <div class="bg-gradient-to-br from-purple-900/80 to-indigo-900/60 rounded-2xl p-6 border-2 border-purple-500">
                <h3 class="text-2xl font-bold mb-4 text-purple-300">
                    <i class="fas fa-chart-bar mr-2"></i>
                    Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
                </h3>
                <div class="space-y-3">
                    <div class="flex justify-between">
                        <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‡Ø¬Ù…Ø§Øª:</span>
                        <span id="totalAttacks" class="font-bold text-yellow-400">0</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Ø£Ù‚ÙˆÙ‰ Ø¶Ø±Ø¨Ø©:</span>
                        <span id="strongestHit" class="font-bold text-red-400">0</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <button onclick="Game.showHome()" class="btn-primary px-8 py-4 rounded-xl font-bold text-xl">
                ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª -->
    <div id="challengesScreen" class="hidden container mx-auto px-4 py-8 pt-24">
        <div class="text-center mb-8">
            <h2 class="text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent">
                ğŸ† Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ğŸ†
            </h2>
            <p class="text-xl text-gray-300">Ø£ÙƒÙ…Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª Ø±Ø§Ø¦Ø¹Ø©!</p>
        </div>

        <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ -->
        <div class="bg-gradient-to-br from-gray-900/90 to-black/80 rounded-3xl p-8 mb-8 border border-gray-600/50">
            <h3 class="text-3xl font-bold mb-6 text-center text-yellow-400">
                <i class="fas fa-chart-line mr-3"></i>
                Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©
            </h3>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="bg-gradient-to-br from-red-900/50 to-red-700/30 rounded-2xl p-4 text-center border border-red-500/30">
                    <div class="text-3xl mb-2">ğŸ’¥</div>
                    <div class="text-2xl font-bold text-red-400" id="totalDamageDisplay">0</div>
                    <div class="text-sm text-gray-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø±Ø±</div>
                </div>
                
                <div class="bg-gradient-to-br from-green-900/50 to-green-700/30 rounded-2xl p-4 text-center border border-green-500/30">
                    <div class="text-3xl mb-2">â¤ï¸</div>
                    <div class="text-2xl font-bold text-green-400" id="totalHealingDisplay">0</div>
                    <div class="text-sm text-gray-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´ÙØ§Ø¡</div>
                </div>
                
                <div class="bg-gradient-to-br from-blue-900/50 to-blue-700/30 rounded-2xl p-4 text-center border border-blue-500/30">
                    <div class="text-3xl mb-2">âš”ï¸</div>
                    <div class="text-2xl font-bold text-blue-400" id="weaponsPurchasedDisplay">0</div>
                    <div class="text-sm text-gray-400">Ø£Ø³Ù„Ø­Ø© Ù…Ø´ØªØ±Ø§Ø©</div>
                </div>
                
                <div class="bg-gradient-to-br from-purple-900/50 to-purple-700/30 rounded-2xl p-4 text-center border border-purple-500/30">
                    <div class="text-3xl mb-2">ğŸ’»</div>
                    <div class="text-2xl font-bold text-purple-400" id="weaponsStolenDisplay">0</div>
                    <div class="text-sm text-gray-400">Ø£Ø³Ù„Ø­Ø© Ù…Ø³Ø±ÙˆÙ‚Ø©</div>
                </div>
            </div>
        </div>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8" id="challengesList">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ù‡Ù†Ø§ -->
        </div>

        <!-- Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© -->
        <div class="bg-gradient-to-br from-yellow-900/50 to-orange-900/30 rounded-3xl p-8 mb-8 border border-yellow-500/30">
            <h3 class="text-3xl font-bold mb-6 text-center text-yellow-400">
                <i class="fas fa-medal mr-3"></i>
                Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
            </h3>
            <div id="achievementsList" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù‡Ù†Ø§ -->
            </div>
        </div>

        <div class="text-center">
            <button onclick="Game.showHome()" class="btn-primary px-8 py-4 rounded-xl font-bold text-xl">
                ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØµØ± -->
    <div id="victoryScreen" class="hidden container mx-auto px-4 py-8 pt-24 text-center">
        <div class="victory-animation">
            <h2 class="text-6xl font-bold mb-8 bg-gradient-to-r from-yellow-400 to-red-500 bg-clip-text text-transparent">
                ğŸ† Ø§Ù„Ù†ØµØ± Ø§Ù„Ù…Ø¬ÙŠØ¯! ğŸ†
            </h2>
        </div>
        <div id="winnerInfo" class="text-3xl mb-8">
            <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ù†Ø§ -->
        </div>
        <button onclick="Game.resetGame()" class="btn-success px-8 py-4 rounded-xl font-bold text-xl">
            ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
        </button>
    </div>

    <script>
        // ÙƒÙ„Ø§Ø³ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        class TeamBattleGame {
            constructor() {
                this.teams = [
                    { name: 'ÙØ±Ù‚Ø© Ø§Ù„Ø¯Ù… Ø§Ù„Ø£Ø­Ù…Ø±', health: 100, points: 100, weapons: [], icon: 'ğŸ”¥', color: 'red' },
                    { name: 'Ø­Ø±Ø§Ø³ Ø§Ù„Ø¹Ø§ØµÙØ© Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡', health: 100, points: 100, weapons: [], icon: 'ğŸ›¡ï¸', color: 'blue' },
                    { name: 'ÙƒØªÙŠØ¨Ø© Ø§Ù„Ø±Ø¹Ø¯ Ø§Ù„Ø£Ø®Ø¶Ø±', health: 100, points: 100, weapons: [], icon: 'ğŸ’£', color: 'green' },
                    { name: 'Ù‚ÙˆØ§Øª Ø§Ù„ØµØ§Ø¹Ù‚Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©', health: 100, points: 100, weapons: [], icon: 'ğŸš€', color: 'yellow' }
                ];
                
                this.weapons = {
                    // Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                    pistol: { name: 'Ù…Ø³Ø¯Ø³ Ø¬Ù„ÙˆÙƒ 19', icon: 'ğŸ”«', damage: [15, 25], cost: 40, description: 'Ø³Ù„Ø§Ø­ Ø¬Ø§Ù†Ø¨ÙŠ Ù…ÙˆØ«ÙˆÙ‚', category: 'basic', rarity: 'common' },
                    rifle: { name: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© AK-47', icon: 'ğŸ”«', damage: [25, 35], cost: 70, description: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© Ù‡Ø¬ÙˆÙ…ÙŠØ© Ù…Ø¯Ù…Ø±Ø©', category: 'basic', rarity: 'common' },
                    shotgun: { name: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© M4 Super 90', icon: 'ğŸ”«', damage: [35, 50], cost: 90, description: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¯Ù‰ Ù…Ø¯Ù…Ø±Ø©', category: 'basic', rarity: 'uncommon' },
                    
                    // Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù‚Ù†Ø§ØµØ©
                    sniper: { name: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© Barrett M82', icon: 'ğŸ¯', damage: [45, 60], cost: 120, description: 'Ø¨Ù†Ø¯Ù‚ÙŠØ© Ù‚Ù†Ø§Øµ Ø¯Ù‚ÙŠÙ‚Ø©', category: 'sniper', rarity: 'rare' },
                    awp: { name: 'AWP Dragon Lore', icon: 'ğŸ¯', damage: [60, 80], cost: 200, description: 'Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ù‚Ù†Ø§ØµØ©', category: 'sniper', rarity: 'legendary' },
                    
                    // Ø§Ù„Ù…ØªÙØ¬Ø±Ø§Øª
                    grenade: { name: 'Ù‚Ù†Ø¨Ù„Ø© M67 Ø§Ù„ÙŠØ¯ÙˆÙŠØ©', icon: 'ğŸ’£', damage: [30, 45], cost: 60, description: 'Ù‚Ù†Ø¨Ù„Ø© ØªØ´Ø¸ÙŠ Ù…Ø¯Ù…Ø±Ø©', category: 'explosive', rarity: 'common' },
                    c4: { name: 'Ù…ØªÙØ¬Ø±Ø§Øª C4', icon: 'ğŸ’£', damage: [50, 70], cost: 150, description: 'Ù…ØªÙØ¬Ø±Ø§Øª Ø¹Ø³ÙƒØ±ÙŠØ© Ù‚ÙˆÙŠØ©', category: 'explosive', rarity: 'rare' },
                    claymore: { name: 'Ù„ØºÙ… ÙƒÙ„Ø§ÙŠÙ…ÙˆØ±', icon: 'ğŸ’£', damage: [40, 60], cost: 110, description: 'Ù„ØºÙ… Ù…Ø¶Ø§Ø¯ Ù„Ù„Ø£ÙØ±Ø§Ø¯', category: 'explosive', rarity: 'uncommon' },
                    
                    // Ø§Ù„ØµÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©
                    missile: { name: 'ØµØ§Ø±ÙˆØ® Ø¬Ø§ÙÙ„ÙŠÙ†', icon: 'ğŸš€', damage: [55, 75], cost: 180, description: 'ØµØ§Ø±ÙˆØ® Ù…ÙˆØ¬Ù‡ Ù…Ø¶Ø§Ø¯ Ù„Ù„Ø¯Ø¨Ø§Ø¨Ø§Øª', category: 'heavy', rarity: 'rare' },
                    rpg: { name: 'Ù‚Ø§Ø°Ù RPG-7', icon: 'ğŸš€', damage: [65, 85], cost: 220, description: 'Ù‚Ø§Ø°Ù ØµÙˆØ§Ø±ÙŠØ® Ù…Ø­Ù…ÙˆÙ„', category: 'heavy', rarity: 'epic' },
                    tank: { name: 'Ø¯Ø¨Ø§Ø¨Ø© M1 Abrams', icon: 'ğŸš€', damage: [80, 100], cost: 400, description: 'Ø¯Ø¨Ø§Ø¨Ø© Ù‚ØªØ§Ù„ Ø±Ø¦ÙŠØ³ÙŠØ©', category: 'heavy', rarity: 'legendary' },
                    
                    // Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©
                    laser: { name: 'Ø´Ø¹Ø§Ø¹ Ù„ÙŠØ²Ø± Ø§Ù„Ø¨Ù„Ø§Ø²Ù…Ø§', icon: 'âš¡', damage: [30, 45], cost: 110, description: 'Ø´Ø¹Ø§Ø¹ Ø·Ø§Ù‚Ø© Ù…ØªÙ‚Ø¯Ù…', category: 'futuristic', rarity: 'rare' },
                    plasma: { name: 'Ù…Ø¯ÙØ¹ Ø§Ù„Ø¨Ù„Ø§Ø²Ù…Ø§', icon: 'ğŸ”¥', damage: [40, 55], cost: 140, description: 'ÙŠØ·Ù„Ù‚ ÙƒØ±Ø§Øª Ø¨Ù„Ø§Ø²Ù…Ø§ Ù…Ø­Ø±Ù‚Ø©', category: 'futuristic', rarity: 'epic' },
                    railgun: { name: 'Ù…Ø¯ÙØ¹ Ø§Ù„Ø³ÙƒØ© Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠØ©', icon: 'âš¡', damage: [70, 90], cost: 300, description: 'Ø³Ù„Ø§Ø­ ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ ÙØªØ§Ùƒ', category: 'futuristic', rarity: 'legendary' },
                    nuke: { name: 'Ø±Ø£Ø³ Ù†ÙˆÙˆÙŠ ØªÙƒØªÙŠÙƒÙŠ', icon: 'â˜¢ï¸', damage: [90, 120], cost: 500, description: 'Ø³Ù„Ø§Ø­ Ø§Ù„Ø¯Ù…Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„', category: 'futuristic', rarity: 'mythic' },
                    
                    // Ø§Ù„Ø¯Ø±ÙˆØ¹ ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©
                    shield: { name: 'Ø¯Ø±Ø¹ Ø§Ù„ÙƒÙŠÙÙ„Ø§Ø±', icon: 'ğŸ›¡ï¸', defense: 0.3, cost: 80, description: 'ÙŠÙ‚Ù„Ù„ Ø§Ù„Ø¶Ø±Ø± 30%', category: 'defense', rarity: 'common' },
                    armor: { name: 'Ø¯Ø±Ø¹ Ø§Ù„ØªÙŠØªØ§Ù†ÙŠÙˆÙ…', icon: 'ğŸ¦¾', defense: 0.5, cost: 120, description: 'Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© 50%', category: 'defense', rarity: 'rare' },
                    exosuit: { name: 'Ø¨Ø¯Ù„Ø© Ø§Ù„Ù‚ØªØ§Ù„ Ø§Ù„Ø¢Ù„ÙŠØ©', icon: 'ğŸ¤–', defense: 0.7, cost: 250, description: 'Ø¨Ø¯Ù„Ø© Ù…Ø¯Ø±Ø¹Ø© Ù…ØªØ·ÙˆØ±Ø© 70%', category: 'defense', rarity: 'epic' },
                    
                    // Ø§Ù„Ø¹Ù„Ø§Ø¬ ÙˆØ§Ù„Ø¯Ø¹Ù…
                    medkit: { name: 'Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø¥Ø³Ø¹Ø§Ù', icon: 'ğŸ¥', heal: 40, cost: 70, description: 'Ø¹Ù„Ø§Ø¬ Ù…ØªÙ‚Ø¯Ù… +40 ØµØ­Ø©', category: 'support', rarity: 'common' },
                    adrenaline: { name: 'Ø­Ù‚Ù†Ø© Ø§Ù„Ø£Ø¯Ø±ÙŠÙ†Ø§Ù„ÙŠÙ†', icon: 'ğŸ’‰', heal: 30, boost: true, cost: 90, description: 'ÙŠØ³ØªØ¹ÙŠØ¯ Ø§Ù„ØµØ­Ø© ÙˆÙŠØ¹Ø²Ø² Ø§Ù„Ù‚ÙˆØ©', category: 'support', rarity: 'uncommon' },
                    nanobots: { name: 'Ø±ÙˆØ¨ÙˆØªØ§Øª Ø§Ù„Ù†Ø§Ù†Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ©', icon: 'ğŸ”¬', heal: 60, cost: 150, description: 'ØªÙ‚Ù†ÙŠØ© Ø¹Ù„Ø§Ø¬ Ù…ØªÙ‚Ø¯Ù…Ø©', category: 'support', rarity: 'rare' },
                    
                    // Ø£Ø¯ÙˆØ§Øª Ø®Ø§ØµØ©
                    emp: { name: 'Ù‚Ù†Ø¨Ù„Ø© EMP', icon: 'âš¡', special: 'disable', cost: 130, description: 'ØªØ¹Ø·Ù„ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©', category: 'special', rarity: 'rare' },
                    smoke: { name: 'Ù‚Ù†Ø¨Ù„Ø© Ø¯Ø®Ø§Ù†', icon: 'ğŸ’¨', special: 'stealth', cost: 50, description: 'ØªØ®ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ Ù„Ù‡Ø¬Ù…Ø© ÙˆØ§Ø­Ø¯Ø©', category: 'special', rarity: 'common' },
                    flashbang: { name: 'Ù‚Ù†Ø¨Ù„Ø© ÙˆÙ…ÙŠØ¶', icon: 'ğŸ’¥', special: 'stun', cost: 60, description: 'ØªØ´Ù„ Ø§Ù„Ø¹Ø¯Ùˆ Ù„Ø¯ÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø©', category: 'special', rarity: 'uncommon' },
                    drone: { name: 'Ø·Ø§Ø¦Ø±Ø© Ø§Ø³ØªØ·Ù„Ø§Ø¹', icon: 'ğŸ›¸', special: 'scout', cost: 100, description: 'ØªÙƒØ´Ù Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø¹Ø¯Ùˆ', category: 'special', rarity: 'uncommon' },
                    hacker: { name: 'Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ø±ØµÙ†Ø©', icon: 'ğŸ’»', special: 'hack', cost: 180, description: 'ÙŠØ³Ø±Ù‚ Ø³Ù„Ø§Ø­ Ù…Ù† Ø§Ù„Ø¹Ø¯Ùˆ', category: 'special', rarity: 'epic' },
                    
                    // Ø£Ø³Ù„Ø­Ø© Ø£Ø³Ø·ÙˆØ±ÙŠØ©
                    excalibur: { name: 'Ø³ÙŠÙ Ø¥ÙƒØ³ÙƒØ§Ù„ÙŠØ¨Ø±', icon: 'âš”ï¸', damage: [100, 150], cost: 600, description: 'Ø³ÙŠÙ Ø§Ù„Ù…Ù„ÙˆÙƒ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ', category: 'legendary', rarity: 'mythic' },
                    mjolnir: { name: 'Ù…Ø·Ø±Ù‚Ø© Ø«ÙˆØ±', icon: 'ğŸ”¨', damage: [120, 180], cost: 800, description: 'Ù…Ø·Ø±Ù‚Ø© Ø§Ù„Ø¥Ù„Ù‡ Ø§Ù„Ø§Ø³ÙƒÙ†Ø¯Ù†Ø§ÙÙŠ', category: 'legendary', rarity: 'mythic' },
                    deathstar: { name: 'Ù†Ø¬Ù…Ø© Ø§Ù„Ù…ÙˆØª', icon: 'ğŸŒŸ', damage: [200, 300], cost: 1000, description: 'Ø³Ù„Ø§Ø­ ØªØ¯Ù…ÙŠØ± Ø§Ù„ÙƒÙˆØ§ÙƒØ¨', category: 'legendary', rarity: 'mythic' }
                };
                
                this.selectedWeapon = null;
                this.totalWeaponsPurchased = 0;
                this.totalBattlesFought = 0;
                this.totalAttacks = 0;
                this.strongestHit = 0;
                this.specialEffects = {};
                this.achievements = [];
                
                // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                this.challenges = [
                    { id: 'first_blood', name: 'Ø§Ù„Ø¯Ù… Ø§Ù„Ø£ÙˆÙ„', description: 'Ø§Ù‡Ø²Ù… Ø¹Ø¯Ùˆ Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰', reward: 50, completed: false, icon: 'ğŸ©¸' },
                    { id: 'weapon_master', name: 'Ø³ÙŠØ¯ Ø§Ù„Ø£Ø³Ù„Ø­Ø©', description: 'Ø§Ø´ØªØ±ÙŠ 10 Ø£Ø³Ù„Ø­Ø© Ù…Ø®ØªÙ„ÙØ©', reward: 100, completed: false, icon: 'âš”ï¸' },
                    { id: 'survivor', name: 'Ø§Ù„Ù†Ø§Ø¬ÙŠ', description: 'Ø§Ø¨Ù‚ Ø¹Ù„Ù‰ Ù‚ÙŠØ¯ Ø§Ù„Ø­ÙŠØ§Ø© Ù…Ø¹ 10 ØµØ­Ø© Ø£Ùˆ Ø£Ù‚Ù„', reward: 75, completed: false, icon: 'ğŸ’€' },
                    { id: 'destroyer', name: 'Ø§Ù„Ù…Ø¯Ù…Ø±', description: 'Ø§ØµÙ†Ø¹ Ø¶Ø±Ø± 500 Ù†Ù‚Ø·Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ', reward: 150, completed: false, icon: 'ğŸ’¥' },
                    { id: 'millionaire', name: 'Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±', description: 'Ø§Ø¬Ù…Ø¹ 1000 Ù†Ù‚Ø·Ø©', reward: 200, completed: false, icon: 'ğŸ’°' },
                    { id: 'legendary_hunter', name: 'ØµÙŠØ§Ø¯ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±', description: 'Ø§Ø´ØªØ±ÙŠ Ø³Ù„Ø§Ø­ Ø£Ø³Ø·ÙˆØ±ÙŠ', reward: 300, completed: false, icon: 'ğŸ†' },
                    { id: 'perfect_shot', name: 'Ø§Ù„Ø±Ù…ÙŠØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©', description: 'Ø§ØµÙ†Ø¹ Ø¶Ø±Ø± 100+ ÙÙŠ Ø¶Ø±Ø¨Ø© ÙˆØ§Ø­Ø¯Ø©', reward: 120, completed: false, icon: 'ğŸ¯' },
                    { id: 'medic', name: 'Ø§Ù„Ø·Ø¨ÙŠØ¨', description: 'Ø§Ø³ØªØ®Ø¯Ù… 5 Ø£Ø¯ÙˆØ§Øª Ø¹Ù„Ø§Ø¬', reward: 80, completed: false, icon: 'ğŸ¥' },
                    { id: 'tank', name: 'Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø©', description: 'Ø§Ù…ØªÙ„Ùƒ 3 Ø¯Ø±ÙˆØ¹ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª', reward: 100, completed: false, icon: 'ğŸ›¡ï¸' },
                    { id: 'hacker_master', name: 'Ø³ÙŠØ¯ Ø§Ù„Ù‚Ø±ØµÙ†Ø©', description: 'Ø§Ø³Ø±Ù‚ 3 Ø£Ø³Ù„Ø­Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ø±ØµÙ†Ø©', reward: 180, completed: false, icon: 'ğŸ’»' }
                ];
                
                this.totalDamageDealt = 0;
                this.totalHealing = 0;
                this.weaponsStolen = 0;
                
                this.init();
            }
            
            init() {
                this.createTeamCards();
                this.updateSelectOptions();
                this.updateDisplay();
                this.setupEventListeners();
            }
            
            createTeamCards() {
                const container = document.getElementById('teamsContainer');
                container.innerHTML = '';
                
                this.teams.forEach((team, index) => {
                    const card = document.createElement('div');
                    card.className = `team-card team-${team.color} rounded-2xl p-8 text-center text-white shadow-2xl`;
                    card.setAttribute('data-team', index);
                    
                    card.innerHTML = `
                        <div class="text-6xl mb-4">${team.icon}</div>
                        <h3 class="text-2xl font-bold mb-4 text-${team.color}-400">
                            <span class="team-display-name">${team.name}</span>
                        </h3>
                        
                        <div class="mb-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold">
                                    <i class="fas fa-heart text-red-500 mr-1"></i>
                                    Ø§Ù„ØµØ­Ø©
                                </span>
                                <span class="text-lg font-bold health">${team.health}</span>
                            </div>
                            <div class="health-bar">
                                <div class="health-fill bg-gradient-to-r from-red-500 to-green-500 h-full transition-all duration-500" style="width: 100%"></div>
                            </div>
                        </div>
                        
                        <div class="text-xl mb-6 bg-black/30 rounded-lg p-3">
                            <i class="fas fa-coins text-yellow-500 mr-2"></i>
                            <span class="points">${team.points}</span> Ù†Ù‚Ø·Ø©
                        </div>
                        
                        <input type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚..." 
                               class="team-name-input w-full p-3 rounded-lg bg-black/30 text-white placeholder-gray-400 mb-4 text-center font-semibold border-2 border-gray-600 focus:border-${team.color}-500"
                               onchange="Game.updateTeamName(${index}, this.value)">
                        
                        <div class="weapons-owned text-sm bg-black/20 rounded-lg p-3 min-h-[60px]">
                            <div class="text-xs text-gray-400 mb-2">
                                <i class="fas fa-shield-alt mr-1"></i>
                                Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…Ù…Ù„ÙˆÙƒØ©
                            </div>
                            <div class="text-gray-500 text-xs">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ù„Ø­Ø©</div>
                        </div>
                    `;
                    
                    container.appendChild(card);
                });
            }
            
            updateSelectOptions() {
                const selects = ['teamSelect', 'shopTeamSelect', 'attackerSelect', 'targetSelect'];
                selects.forEach(selectId => {
                    const select = document.getElementById(selectId);
                    if (select) {
                        const currentValue = select.value;
                        select.innerHTML = '';
                        this.teams.forEach((team, index) => {
                            const option = document.createElement('option');
                            option.value = index;
                            option.textContent = `${team.icon} ${team.name}`;
                            select.appendChild(option);
                        });
                        if (currentValue !== '') select.value = currentValue;
                    }
                });
            }
            
            updateDisplay() {
                this.teams.forEach((team, index) => {
                    const teamCard = document.querySelector(`[data-team="${index}"]`);
                    if (teamCard) {
                        teamCard.querySelector('.health').textContent = team.health;
                        teamCard.querySelector('.points').textContent = team.points;
                        
                        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØµØ­Ø©
                        const healthFill = teamCard.querySelector('.health-fill');
                        const healthPercentage = (team.health / 100) * 100;
                        healthFill.style.width = healthPercentage + '%';
                        
                        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ù„Ø­Ø©
                        const weaponsDiv = teamCard.querySelector('.weapons-owned');
                        let weaponsHTML = `
                            <div class="text-xs text-gray-400 mb-2">
                                <i class="fas fa-shield-alt mr-1"></i>
                                Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…Ù…Ù„ÙˆÙƒØ©
                            </div>
                        `;
                        
                        if (team.weapons.length === 0) {
                            weaponsHTML += '<div class="text-gray-500 text-xs">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ù„Ø­Ø©</div>';
                        } else {
                            weaponsHTML += team.weapons.map(weaponKey => {
                                const weapon = this.weapons[weaponKey];
                                return `<div class="inline-block bg-gradient-to-r from-gray-700 to-gray-600 rounded-lg px-2 py-1 m-1 text-xs border border-gray-500">
                                    ${weapon.icon} ${weapon.name}
                                </div>`;
                            }).join('');
                        }
                        
                        weaponsDiv.innerHTML = weaponsHTML;
                    }
                });
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±
                const shopTeamSelect = document.getElementById('shopTeamSelect');
                const availablePointsSpan = document.getElementById('availablePoints');
                if (shopTeamSelect && availablePointsSpan) {
                    const shopTeamIndex = shopTeamSelect.value || 0;
                    availablePointsSpan.textContent = this.teams[shopTeamIndex].points;
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                document.getElementById('totalWeapons').textContent = this.totalWeaponsPurchased;
                document.getElementById('totalBattles').textContent = this.totalBattlesFought;
                document.getElementById('totalAttacks').textContent = this.totalAttacks;
                document.getElementById('strongestHit').textContent = this.strongestHit;
                
                this.updateAttackerWeapons();
            }
            
            updateAttackerWeapons() {
                const attackerSelect = document.getElementById('attackerSelect');
                const weaponsDiv = document.getElementById('attackerWeapons');
                
                if (!attackerSelect || !weaponsDiv) return;
                
                const attackerIndex = parseInt(attackerSelect.value) || 0;
                const team = this.teams[attackerIndex];
                
                weaponsDiv.innerHTML = '<h4 class="font-bold mb-4 text-xl text-red-300">ğŸ”« Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…ØªØ§Ø­Ø©:</h4>';
                
                if (team.weapons.length === 0) {
                    weaponsDiv.innerHTML += '<p class="text-gray-400 text-lg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ù„Ø­Ø© Ù…ØªØ§Ø­Ø© - Ø§Ø°Ù‡Ø¨ Ù„Ù„Ù…ØªØ¬Ø±!</p>';
                } else {
                    team.weapons.forEach((weaponKey, index) => {
                        const weapon = this.weapons[weaponKey];
                        const isSelected = this.selectedWeapon === index;
                        
                        let damageInfo = '';
                        if (weapon.damage) {
                            damageInfo = `<span class="text-red-300 mr-2">(${weapon.damage[0]}-${weapon.damage[1]} Ø¶Ø±Ø±)</span>`;
                        } else if (weapon.heal) {
                            damageInfo = `<span class="text-green-300 mr-2">(+${weapon.heal} Ø´ÙØ§Ø¡)</span>`;
                        } else if (weapon.defense) {
                            damageInfo = `<span class="text-blue-300 mr-2">(${Math.round(weapon.defense * 100)}% Ø­Ù…Ø§ÙŠØ©)</span>`;
                        }
                        
                        weaponsDiv.innerHTML += `
                            <button onclick="Game.selectWeapon(${index})" 
                                    class="block w-full ${isSelected ? 'bg-yellow-600 border-yellow-400' : 'bg-white/20 border-gray-500'} hover:bg-yellow-500 rounded-xl p-4 mb-3 text-right border-2 transition-all font-bold text-lg">
                                ${weapon.icon} ${weapon.name}
                                ${damageInfo}
                            </button>
                        `;
                    });
                }
            }
            
            setupEventListeners() {
                const shopTeamSelect = document.getElementById('shopTeamSelect');
                const attackerSelect = document.getElementById('attackerSelect');
                
                if (shopTeamSelect) {
                    shopTeamSelect.addEventListener('change', () => this.updateDisplay());
                }
                
                if (attackerSelect) {
                    attackerSelect.addEventListener('change', () => {
                        this.selectedWeapon = null;
                        this.updateAttackerWeapons();
                    });
                }
            }
            
            updateTeamName(teamIndex, newName) {
                if (newName.trim()) {
                    this.teams[teamIndex].name = newName.trim();
                    document.querySelector(`[data-team="${teamIndex}"] .team-display-name`).textContent = newName.trim();
                    this.updateSelectOptions();
                    this.showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­! âœ…', 'success');
                }
            }
            
            addPoints() {
                const teamIndex = parseInt(document.getElementById('teamSelect').value) || 0;
                const points = parseInt(document.getElementById('pointsInput').value) || 0;
                
                if (points > 0) {
                    this.teams[teamIndex].points += points;
                    this.updateDisplay();
                    document.getElementById('pointsInput').value = '';
                    this.showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${points} Ù†Ù‚Ø·Ø© Ù„Ù„ÙØ±ÙŠÙ‚ ${this.teams[teamIndex].name}! ğŸ‰`, 'success');
                }
            }
            
            removePoints() {
                const teamIndex = parseInt(document.getElementById('teamSelect').value) || 0;
                const points = parseInt(document.getElementById('pointsInput').value) || 0;
                
                if (points > 0) {
                    this.teams[teamIndex].points = Math.max(0, this.teams[teamIndex].points - points);
                    this.updateDisplay();
                    document.getElementById('pointsInput').value = '';
                    this.showNotification(`ØªÙ… Ø®ØµÙ… ${points} Ù†Ù‚Ø·Ø© Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚ ${this.teams[teamIndex].name}! âš ï¸`, 'info');
                }
            }
            
            quickAddPoints(amount) {
                const teamIndex = parseInt(document.getElementById('teamSelect').value) || 0;
                this.teams[teamIndex].points += amount;
                this.updateDisplay();
                this.showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${amount} Ù†Ù‚Ø·Ø© Ù„Ù„ÙØ±ÙŠÙ‚ ${this.teams[teamIndex].name}! ğŸ‰`, 'success');
            }
            
            displayWeapons() {
                const weaponsGrid = document.getElementById('weaponsGrid');
                weaponsGrid.innerHTML = '';
                
                // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
                const categories = {
                    basic: { name: 'Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©', weapons: [] },
                    sniper: { name: 'Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù‚Ù†Ø§ØµØ©', weapons: [] },
                    explosive: { name: 'Ø§Ù„Ù…ØªÙØ¬Ø±Ø§Øª', weapons: [] },
                    heavy: { name: 'Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©', weapons: [] },
                    futuristic: { name: 'Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©', weapons: [] },
                    defense: { name: 'Ø§Ù„Ø¯Ø±ÙˆØ¹ ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©', weapons: [] },
                    support: { name: 'Ø§Ù„Ø¹Ù„Ø§Ø¬ ÙˆØ§Ù„Ø¯Ø¹Ù…', weapons: [] },
                    special: { name: 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø®Ø§ØµØ©', weapons: [] },
                    legendary: { name: 'Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©', weapons: [] }
                };
                
                Object.entries(this.weapons).forEach(([key, weapon]) => {
                    if (categories[weapon.category]) {
                        categories[weapon.category].weapons.push({ key, ...weapon });
                    }
                });
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø§Øª
                Object.entries(categories).forEach(([categoryKey, category]) => {
                    if (category.weapons.length > 0) {
                        // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ¦Ø©
                        const categoryHeader = document.createElement('div');
                        categoryHeader.className = 'col-span-full mb-4';
                        categoryHeader.innerHTML = `
                            <h3 class="text-2xl font-bold text-center bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                                ${category.name}
                            </h3>
                            <div class="w-full h-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-2"></div>
                        `;
                        weaponsGrid.appendChild(categoryHeader);
                        
                        // Ø£Ø³Ù„Ø­Ø© Ø§Ù„ÙØ¦Ø©
                        category.weapons.forEach(weapon => {
                            const weaponCard = document.createElement('div');
                            
                            // Ø£Ù„ÙˆØ§Ù† Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¯Ø±Ø©
                            let rarityClass = '';
                            let rarityBorder = '';
                            switch (weapon.rarity) {
                                case 'common': rarityClass = 'from-gray-700 to-gray-600'; rarityBorder = 'border-gray-500'; break;
                                case 'uncommon': rarityClass = 'from-green-700 to-green-600'; rarityBorder = 'border-green-500'; break;
                                case 'rare': rarityClass = 'from-blue-700 to-blue-600'; rarityBorder = 'border-blue-500'; break;
                                case 'epic': rarityClass = 'from-purple-700 to-purple-600'; rarityBorder = 'border-purple-500'; break;
                                case 'legendary': rarityClass = 'from-orange-700 to-orange-600'; rarityBorder = 'border-orange-500'; break;
                                case 'mythic': rarityClass = 'from-red-700 to-red-600'; rarityBorder = 'border-red-500'; break;
                            }
                            
                            weaponCard.className = `weapon-card bg-gradient-to-br ${rarityClass} rounded-2xl p-4 text-center text-white border-2 ${rarityBorder}`;
                            
                            let statsHTML = '';
                            if (weapon.damage) {
                                statsHTML = `<div class="bg-red-600/60 rounded-lg p-2 mb-2"><div class="text-sm font-bold">âš”ï¸ ${weapon.damage[0]}-${weapon.damage[1]}</div></div>`;
                            } else if (weapon.defense) {
                                statsHTML = `<div class="bg-blue-600/60 rounded-lg p-2 mb-2"><div class="text-sm font-bold">ğŸ›¡ï¸ ${Math.round(weapon.defense * 100)}%</div></div>`;
                            } else if (weapon.heal) {
                                statsHTML = `<div class="bg-green-600/60 rounded-lg p-2 mb-2"><div class="text-sm font-bold">â¤ï¸ +${weapon.heal}</div></div>`;
                            } else if (weapon.special) {
                                statsHTML = `<div class="bg-purple-600/60 rounded-lg p-2 mb-2"><div class="text-sm font-bold">âœ¨ Ø®Ø§Øµ</div></div>`;
                            }
                            
                            // Ø´Ø§Ø±Ø© Ø§Ù„Ù†Ø¯Ø±Ø©
                            let rarityBadge = '';
                            switch (weapon.rarity) {
                                case 'common': rarityBadge = '<div class="text-xs bg-gray-600 px-2 py-1 rounded-full mb-2">Ø¹Ø§Ø¯ÙŠ</div>'; break;
                                case 'uncommon': rarityBadge = '<div class="text-xs bg-green-600 px-2 py-1 rounded-full mb-2">ØºÙŠØ± Ø¹Ø§Ø¯ÙŠ</div>'; break;
                                case 'rare': rarityBadge = '<div class="text-xs bg-blue-600 px-2 py-1 rounded-full mb-2">Ù†Ø§Ø¯Ø±</div>'; break;
                                case 'epic': rarityBadge = '<div class="text-xs bg-purple-600 px-2 py-1 rounded-full mb-2">Ù…Ù„Ø­Ù…ÙŠ</div>'; break;
                                case 'legendary': rarityBadge = '<div class="text-xs bg-orange-600 px-2 py-1 rounded-full mb-2">Ø£Ø³Ø·ÙˆØ±ÙŠ</div>'; break;
                                case 'mythic': rarityBadge = '<div class="text-xs bg-red-600 px-2 py-1 rounded-full mb-2">Ø®Ø±Ø§ÙÙŠ</div>'; break;
                            }
                            
                            weaponCard.innerHTML = `
                                <div class="text-3xl mb-2">${weapon.icon}</div>
                                ${rarityBadge}
                                <h3 class="text-sm font-bold mb-2">${weapon.name}</h3>
                                <p class="text-xs mb-2 text-gray-300 h-8 overflow-hidden">${weapon.description}</p>
                                ${statsHTML}
                                <div class="bg-yellow-500/40 rounded-lg p-2 mb-3">
                                    <div class="text-lg font-bold">ğŸ’° ${weapon.cost}</div>
                                </div>
                                <button onclick="Game.buyWeapon('${weapon.key}', ${weapon.cost})" 
                                        class="w-full btn-success text-white px-2 py-2 rounded-lg font-bold text-xs">
                                    ğŸ›’ Ø´Ø±Ø§Ø¡
                                </button>
                            `;
                            
                            weaponsGrid.appendChild(weaponCard);
                        });
                    }
                });
            }
            
            buyWeapon(weaponType, cost) {
                const teamIndex = parseInt(document.getElementById('shopTeamSelect').value) || 0;
                const team = this.teams[teamIndex];
                
                if (team.points >= cost) {
                    team.points -= cost;
                    team.weapons.push(weaponType);
                    this.totalWeaponsPurchased++;
                    this.updateDisplay();
                    this.showNotification(`ğŸ‰ ${team.name} Ø§Ø´ØªØ±Ù‰ ${this.weapons[weaponType].name} Ø¨Ù†Ø¬Ø§Ø­! ğŸ›’`, 'success');
                } else {
                    this.showNotification(`âŒ Ù†Ù‚Ø§Ø· ØºÙŠØ± ÙƒØ§ÙÙŠØ©! ØªØ­ØªØ§Ø¬ ${cost} Ù†Ù‚Ø·Ø© ÙˆÙ„Ø¯ÙŠÙƒ ${team.points} ÙÙ‚Ø·.`, 'error');
                }
            }
            
            selectWeapon(weaponIndex) {
                this.selectedWeapon = weaponIndex;
                this.updateAttackerWeapons();
                const attackerIndex = parseInt(document.getElementById('attackerSelect').value) || 0;
                const attacker = this.teams[attackerIndex];
                this.showNotification(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${this.weapons[attacker.weapons[weaponIndex]].name}! âš”ï¸`, 'info');
            }
            
            attack() {
                const attackerIndex = parseInt(document.getElementById('attackerSelect').value) || 0;
                const targetIndex = parseInt(document.getElementById('targetSelect').value) || 0;
                
                if (attackerIndex === targetIndex) {
                    this.showNotification('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ù‡Ø§Ø¬Ù…Ø© Ù†ÙØ³ Ø§Ù„ÙØ±ÙŠÙ‚! ğŸš«', 'error');
                    return;
                }
                
                const attacker = this.teams[attackerIndex];
                const target = this.teams[targetIndex];
                
                if (attacker.health <= 0) {
                    this.showNotification(`${attacker.name} Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©! ğŸ’€`, 'error');
                    return;
                }
                
                if (target.health <= 0) {
                    this.showNotification(`${target.name} Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ø¨Ø§Ù„ÙØ¹Ù„! ğŸ’€`, 'error');
                    return;
                }
                
                if (attacker.weapons.length === 0) {
                    this.showNotification(`${attacker.name} Ù„Ø§ ÙŠÙ…Ù„Ùƒ Ø£Ø³Ù„Ø­Ø©! Ø§Ø°Ù‡Ø¨ Ù„Ù„Ù…ØªØ¬Ø±! ğŸ›’`, 'error');
                    return;
                }
                
                if (this.selectedWeapon === null || this.selectedWeapon >= attacker.weapons.length) {
                    this.selectedWeapon = 0;
                }
                
                const weaponType = attacker.weapons[this.selectedWeapon];
                const weapon = this.weapons[weaponType];
                
                this.totalAttacks++;
                this.totalBattlesFought++;
                
                let damage = 0;
                let message = '';
                
                // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø®Ø§ØµØ©
                if (weapon.special) {
                    switch (weapon.special) {
                        case 'disable':
                            // Ù‚Ù†Ø¨Ù„Ø© EMP - ØªØ¹Ø·Ù„ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©
                            const electronicWeapons = ['laser', 'plasma', 'railgun', 'drone', 'hacker'];
                            let disabledCount = 0;
                            target.weapons = target.weapons.filter(w => {
                                if (electronicWeapons.includes(w)) {
                                    disabledCount++;
                                    return false;
                                }
                                return true;
                            });
                            message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ù†Ø¨Ù„Ø© EMP ÙˆØ¹Ø·Ù„ ${disabledCount} Ø£Ø³Ù„Ø­Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©! âš¡`;
                            break;
                            
                        case 'stealth':
                            // Ù‚Ù†Ø¨Ù„Ø© Ø¯Ø®Ø§Ù† - ØªØ®ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚
                            this.specialEffects[attackerIndex] = { type: 'stealth', duration: 1 };
                            message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ù†Ø¨Ù„Ø© Ø¯Ø®Ø§Ù† ÙˆØ£ØµØ¨Ø­ Ù…Ø®ÙÙŠØ§Ù‹! ğŸ’¨`;
                            break;
                            
                        case 'stun':
                            // Ù‚Ù†Ø¨Ù„Ø© ÙˆÙ…ÙŠØ¶ - ØªØ´Ù„ Ø§Ù„Ø¹Ø¯Ùˆ
                            this.specialEffects[targetIndex] = { type: 'stunned', duration: 1 };
                            message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ù†Ø¨Ù„Ø© ÙˆÙ…ÙŠØ¶ ÙˆØ´Ù„ ${target.name}! ğŸ’¥`;
                            break;
                            
                        case 'scout':
                            // Ø·Ø§Ø¦Ø±Ø© Ø§Ø³ØªØ·Ù„Ø§Ø¹ - ØªÙƒØ´Ù Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø¹Ø¯Ùˆ
                            const enemyWeapons = target.weapons.map(w => this.weapons[w].name).join(', ');
                            message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… Ø·Ø§Ø¦Ø±Ø© Ø§Ø³ØªØ·Ù„Ø§Ø¹! Ø£Ø³Ù„Ø­Ø© ${target.name}: ${enemyWeapons || 'Ù„Ø§ ØªÙˆØ¬Ø¯'} ğŸ›¸`;
                            break;
                            
                        case 'hack':
                            // Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ø±ØµÙ†Ø© - ÙŠØ³Ø±Ù‚ Ø³Ù„Ø§Ø­
                            if (target.weapons.length > 0) {
                                const stolenWeaponIndex = Math.floor(Math.random() * target.weapons.length);
                                const stolenWeapon = target.weapons.splice(stolenWeaponIndex, 1)[0];
                                attacker.weapons.push(stolenWeapon);
                                this.weaponsStolen++;
                                message = `${attacker.name} Ø§Ø®ØªØ±Ù‚ ${target.name} ÙˆØ³Ø±Ù‚ ${this.weapons[stolenWeapon].name}! ğŸ’»`;
                            } else {
                                message = `${attacker.name} Ø­Ø§ÙˆÙ„ Ø§Ø®ØªØ±Ø§Ù‚ ${target.name} Ù„ÙƒÙ† Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ù„Ø­Ø© Ù„Ù„Ø³Ø±Ù‚Ø©! ğŸ’»`;
                            }
                            break;
                    }
                } else if (weapon.heal) {
                    const healAmount = weapon.heal;
                    const oldHealth = attacker.health;
                    attacker.health = Math.min(100, attacker.health + healAmount);
                    const actualHeal = attacker.health - oldHealth;
                    this.totalHealing += actualHeal;
                    
                    if (weapon.boost) {
                        // Ø­Ù‚Ù†Ø© Ø§Ù„Ø£Ø¯Ø±ÙŠÙ†Ø§Ù„ÙŠÙ† ØªØ¹Ø·ÙŠ ØªØ¹Ø²ÙŠØ²
                        this.specialEffects[attackerIndex] = { type: 'boosted', duration: 2 };
                        message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… ${weapon.name} ÙˆØ§Ø³ØªØ¹Ø§Ø¯ ${actualHeal} Ù†Ù‚Ø·Ø© ØµØ­Ø© ÙˆØ­ØµÙ„ Ø¹Ù„Ù‰ ØªØ¹Ø²ÙŠØ²! ğŸ’‰`;
                    } else {
                        message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… ${weapon.name} ÙˆØ§Ø³ØªØ¹Ø§Ø¯ ${actualHeal} Ù†Ù‚Ø·Ø© ØµØ­Ø©! ğŸ’š`;
                    }
                } else if (weapon.damage) {
                    damage = Math.floor(Math.random() * (weapon.damage[1] - weapon.damage[0] + 1)) + weapon.damage[0];
                    
                    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø²ÙŠØ²
                    if (this.specialEffects[attackerIndex]?.type === 'boosted') {
                        damage = Math.floor(damage * 1.5);
                        message += ' (Ù…Ø¹Ø²Ø²!) ';
                    }
                    
                    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯ÙØ§Ø¹
                    let defenseReduction = 0;
                    if (target.weapons.includes('exosuit')) {
                        defenseReduction = 0.7;
                    } else if (target.weapons.includes('armor')) {
                        defenseReduction = 0.5;
                    } else if (target.weapons.includes('shield')) {
                        defenseReduction = 0.3;
                    }
                    
                    damage = Math.floor(damage * (1 - defenseReduction));
                    target.health = Math.max(0, target.health - damage);
                    this.totalDamageDealt += damage;
                    
                    if (damage > this.strongestHit) {
                        this.strongestHit = damage;
                    }
                    
                    message = `${attacker.name} Ù‡Ø§Ø¬Ù… ${target.name} Ø¨Ù€${weapon.name}! Ø§Ù„Ø¶Ø±Ø±: ${damage} ğŸ’¥`;
                    if (defenseReduction > 0) {
                        message += ` (ØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¶Ø±Ø± Ø¨Ù†Ø³Ø¨Ø© ${Math.round(defenseReduction * 100)}%)`;
                    }
                    
                    // ÙØ­Øµ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø£ÙˆÙ„
                    if (target.health <= 0) {
                        this.checkChallenge('first_blood');
                    }
                    
                    // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ø±Ù…ÙŠØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©
                    if (damage >= 100) {
                        this.checkChallenge('perfect_shot');
                    }
                } else {
                    message = `${attacker.name} Ø§Ø³ØªØ®Ø¯Ù… ${weapon.name}! ğŸ›¡ï¸`;
                }
                
                // ØªÙ‚Ù„ÙŠÙ„ Ù…Ø¯Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ø§ØµØ©
                Object.keys(this.specialEffects).forEach(teamIndex => {
                    this.specialEffects[teamIndex].duration--;
                    if (this.specialEffects[teamIndex].duration <= 0) {
                        delete this.specialEffects[teamIndex];
                    }
                });
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø³Ù„Ø§Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø¥Ù„Ø§ Ø§Ù„Ø¯ÙØ§Ø¹ÙŠØ§Øª)
                if (!['shield', 'armor', 'exosuit'].includes(weaponType)) {
                    attacker.weapons.splice(this.selectedWeapon, 1);
                    this.selectedWeapon = null;
                }
                
                // ÙØ­Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                this.checkChallenges();
                
                this.updateDisplay();
                this.addToLog(message);
                
                // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ©
                if (damage > 0) {
                    const targetCard = document.querySelector(`[data-team="${targetIndex}"]`);
                    if (targetCard) {
                        targetCard.classList.add('attack-animation');
                        setTimeout(() => targetCard.classList.remove('attack-animation'), 800);
                        this.showDamageText(targetCard, damage);
                    }
                }
                
                this.checkVictory();
                this.showNotification(`âœ… ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­! ${damage > 0 ? `Ø§Ù„Ø¶Ø±Ø±: ${damage}` : ''}`, 'success');
            }
            
            showDamageText(element, damage) {
                const damageDiv = document.createElement('div');
                damageDiv.className = 'damage-text absolute text-red-500 font-bold text-3xl pointer-events-none z-50';
                damageDiv.textContent = `-${damage}`;
                damageDiv.style.top = '50%';
                damageDiv.style.left = '50%';
                damageDiv.style.transform = 'translate(-50%, -50%)';
                
                element.style.position = 'relative';
                element.appendChild(damageDiv);
                
                setTimeout(() => damageDiv.remove(), 1500);
            }
            
            addToLog(message) {
                const logContainer = document.getElementById('battleLog');
                const logEntry = document.createElement('div');
                logEntry.className = 'mb-3 p-3 bg-white/10 rounded-lg border-l-4 border-red-500';
                logEntry.innerHTML = `
                    <div class="text-sm text-gray-400">${new Date().toLocaleTimeString('ar-SA')}</div>
                    <div class="text-white font-semibold">${message}</div>
                `;
                logContainer.appendChild(logEntry);
                logContainer.scrollTop = logContainer.scrollHeight;
            }
            
            checkVictory() {
                const aliveTeams = this.teams.filter(team => team.health > 0);
                
                if (aliveTeams.length === 1) {
                    const winner = aliveTeams[0];
                    document.getElementById('winnerInfo').innerHTML = `
                        <div class="text-6xl mb-6">${winner.icon}</div>
                        <div class="text-4xl font-bold mb-4">${winner.name} Ù‡Ùˆ Ø§Ù„ÙØ§Ø¦Ø²!</div>
                        <div class="text-2xl mt-4">Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${winner.health}</div>
                    `;
                    this.showVictory();
                }
            }
            
            resetGame() {
                const defaultNames = [
                    'ÙØ±Ù‚Ø© Ø§Ù„Ø¯Ù… Ø§Ù„Ø£Ø­Ù…Ø±',
                    'Ø­Ø±Ø§Ø³ Ø§Ù„Ø¹Ø§ØµÙØ© Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡', 
                    'ÙƒØªÙŠØ¨Ø© Ø§Ù„Ø±Ø¹Ø¯ Ø§Ù„Ø£Ø®Ø¶Ø±',
                    'Ù‚ÙˆØ§Øª Ø§Ù„ØµØ§Ø¹Ù‚Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©'
                ];
                
                this.teams.forEach((team, index) => {
                    team.name = defaultNames[index];
                    team.health = 100;
                    team.points = 100;
                    team.weapons = [];
                });
                
                this.selectedWeapon = null;
                this.totalWeaponsPurchased = 0;
                this.totalBattlesFought = 0;
                this.totalAttacks = 0;
                this.strongestHit = 0;
                this.specialEffects = {};
                this.achievements = [];
                
                // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                this.challenges = [
                    { id: 'first_blood', name: 'Ø§Ù„Ø¯Ù… Ø§Ù„Ø£ÙˆÙ„', description: 'Ø§Ù‡Ø²Ù… Ø¹Ø¯Ùˆ Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰', reward: 50, completed: false, icon: 'ğŸ©¸' },
                    { id: 'weapon_master', name: 'Ø³ÙŠØ¯ Ø§Ù„Ø£Ø³Ù„Ø­Ø©', description: 'Ø§Ø´ØªØ±ÙŠ 10 Ø£Ø³Ù„Ø­Ø© Ù…Ø®ØªÙ„ÙØ©', reward: 100, completed: false, icon: 'âš”ï¸' },
                    { id: 'survivor', name: 'Ø§Ù„Ù†Ø§Ø¬ÙŠ', description: 'Ø§Ø¨Ù‚ Ø¹Ù„Ù‰ Ù‚ÙŠØ¯ Ø§Ù„Ø­ÙŠØ§Ø© Ù…Ø¹ 10 ØµØ­Ø© Ø£Ùˆ Ø£Ù‚Ù„', reward: 75, completed: false, icon: 'ğŸ’€' },
                    { id: 'destroyer', name: 'Ø§Ù„Ù…Ø¯Ù…Ø±', description: 'Ø§ØµÙ†Ø¹ Ø¶Ø±Ø± 500 Ù†Ù‚Ø·Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ', reward: 150, completed: false, icon: 'ğŸ’¥' },
                    { id: 'millionaire', name: 'Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±', description: 'Ø§Ø¬Ù…Ø¹ 1000 Ù†Ù‚Ø·Ø©', reward: 200, completed: false, icon: 'ğŸ’°' },
                    { id: 'legendary_hunter', name: 'ØµÙŠØ§Ø¯ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±', description: 'Ø§Ø´ØªØ±ÙŠ Ø³Ù„Ø§Ø­ Ø£Ø³Ø·ÙˆØ±ÙŠ', reward: 300, completed: false, icon: 'ğŸ†' },
                    { id: 'perfect_shot', name: 'Ø§Ù„Ø±Ù…ÙŠØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©', description: 'Ø§ØµÙ†Ø¹ Ø¶Ø±Ø± 100+ ÙÙŠ Ø¶Ø±Ø¨Ø© ÙˆØ§Ø­Ø¯Ø©', reward: 120, completed: false, icon: 'ğŸ¯' },
                    { id: 'medic', name: 'Ø§Ù„Ø·Ø¨ÙŠØ¨', description: 'Ø§Ø³ØªØ®Ø¯Ù… 5 Ø£Ø¯ÙˆØ§Øª Ø¹Ù„Ø§Ø¬', reward: 80, completed: false, icon: 'ğŸ¥' },
                    { id: 'tank', name: 'Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø©', description: 'Ø§Ù…ØªÙ„Ùƒ 3 Ø¯Ø±ÙˆØ¹ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª', reward: 100, completed: false, icon: 'ğŸ›¡ï¸' },
                    { id: 'hacker_master', name: 'Ø³ÙŠØ¯ Ø§Ù„Ù‚Ø±ØµÙ†Ø©', description: 'Ø§Ø³Ø±Ù‚ 3 Ø£Ø³Ù„Ø­Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ø±ØµÙ†Ø©', reward: 180, completed: false, icon: 'ğŸ’»' }
                ];
                
                this.totalDamageDealt = 0;
                this.totalHealing = 0;
                this.weaponsStolen = 0;
                
                document.getElementById('battleLog').innerHTML = '';
                document.querySelectorAll('.team-name-input').forEach(input => input.value = '');
                
                this.createTeamCards();
                this.updateSelectOptions();
                this.updateDisplay();
                this.showHome();
                
                this.showNotification('ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­! âœ¨', 'success');
            }
            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => notification.classList.add('show'), 100);
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            toggleGameGuide() {
                const modal = document.getElementById('gameGuideModal');
                const isHidden = modal.classList.contains('hidden');
                
                if (isHidden) {
                    modal.classList.remove('hidden');
                    modal.style.display = 'flex';
                } else {
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                }
            }
            
            toggleDeveloperInfo() {
                const modal = document.getElementById('developerInfoModal');
                const isHidden = modal.classList.contains('hidden');
                
                if (isHidden) {
                    modal.classList.remove('hidden');
                    modal.style.display = 'flex';
                } else {
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                }
            }
            
            showHome() {
                this.hideAllScreens();
                document.getElementById('homeScreen').classList.remove('hidden');
            }
            
            showShop() {
                this.hideAllScreens();
                document.getElementById('shopScreen').classList.remove('hidden');
                this.displayWeapons();
                this.updateDisplay();
            }
            
            showBattle() {
                this.hideAllScreens();
                document.getElementById('battleScreen').classList.remove('hidden');
                this.updateDisplay();
            }
            
            showVictory() {
                this.hideAllScreens();
                document.getElementById('victoryScreen').classList.remove('hidden');
            }
            
            checkChallenge(challengeId) {
                const challenge = this.challenges.find(c => c.id === challengeId);
                if (challenge && !challenge.completed) {
                    challenge.completed = true;
                    this.achievements.push(challenge);
                    
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©
                    this.teams.forEach(team => team.points += challenge.reward);
                    
                    this.showNotification(`ğŸ† ØªØ­Ø¯ÙŠ Ù…ÙƒØªÙ…Ù„: ${challenge.name}! Ù…ÙƒØ§ÙØ£Ø©: ${challenge.reward} Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚!`, 'success');
                }
            }
            
            checkChallenges() {
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø³ÙŠØ¯ Ø§Ù„Ø£Ø³Ù„Ø­Ø©
                const totalWeapons = this.teams.reduce((sum, team) => sum + team.weapons.length, 0);
                if (totalWeapons >= 10) {
                    this.checkChallenge('weapon_master');
                }
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø§Ø¬ÙŠ
                this.teams.forEach(team => {
                    if (team.health <= 10 && team.health > 0) {
                        this.checkChallenge('survivor');
                    }
                });
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¯Ù…Ø±
                if (this.totalDamageDealt >= 500) {
                    this.checkChallenge('destroyer');
                }
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±
                this.teams.forEach(team => {
                    if (team.points >= 1000) {
                        this.checkChallenge('millionaire');
                    }
                });
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ ØµÙŠØ§Ø¯ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±
                const hasLegendary = this.teams.some(team => 
                    team.weapons.some(weapon => this.weapons[weapon].rarity === 'mythic')
                );
                if (hasLegendary) {
                    this.checkChallenge('legendary_hunter');
                }
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¨
                if (this.totalHealing >= 200) {
                    this.checkChallenge('medic');
                }
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø©
                this.teams.forEach(team => {
                    const defenseWeapons = team.weapons.filter(w => ['shield', 'armor', 'exosuit'].includes(w));
                    if (defenseWeapons.length >= 3) {
                        this.checkChallenge('tank');
                    }
                });
                
                // ÙØ­Øµ ØªØ­Ø¯ÙŠ Ø³ÙŠØ¯ Ø§Ù„Ù‚Ø±ØµÙ†Ø©
                if (this.weaponsStolen >= 3) {
                    this.checkChallenge('hacker_master');
                }
            }
            
            displayChallenges() {
                const challengesList = document.getElementById('challengesList');
                const achievementsList = document.getElementById('achievementsList');
                
                challengesList.innerHTML = '';
                achievementsList.innerHTML = '';
                
                // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                this.challenges.forEach(challenge => {
                    const challengeCard = document.createElement('div');
                    const isCompleted = challenge.completed;
                    
                    challengeCard.className = `bg-gradient-to-br ${isCompleted ? 'from-green-900/80 to-green-700/60 border-green-500' : 'from-gray-900/80 to-gray-700/60 border-gray-500'} rounded-2xl p-6 border-2`;
                    
                    challengeCard.innerHTML = `
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-2">${challenge.icon}</div>
                            <h3 class="text-xl font-bold ${isCompleted ? 'text-green-400' : 'text-white'}">${challenge.name}</h3>
                        </div>
                        
                        <p class="text-gray-300 text-sm mb-4 text-center">${challenge.description}</p>
                        
                        <div class="text-center">
                            <div class="bg-yellow-500/30 rounded-lg p-2 mb-3">
                                <div class="text-lg font-bold text-yellow-400">ğŸ’° ${challenge.reward} Ù†Ù‚Ø·Ø©</div>
                            </div>
                            
                            ${isCompleted ? 
                                '<div class="bg-green-600 text-white px-4 py-2 rounded-lg font-bold">âœ… Ù…ÙƒØªÙ…Ù„</div>' :
                                '<div class="bg-gray-600 text-gray-300 px-4 py-2 rounded-lg">â³ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯Ù…</div>'
                            }
                        </div>
                    `;
                    
                    challengesList.appendChild(challengeCard);
                });
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
                if (this.achievements.length === 0) {
                    achievementsList.innerHTML = '<div class="col-span-full text-center text-gray-400 text-lg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø¹Ø¯</div>';
                } else {
                    this.achievements.forEach(achievement => {
                        const achievementBadge = document.createElement('div');
                        achievementBadge.className = 'bg-gradient-to-br from-yellow-600 to-orange-600 rounded-xl p-4 text-center border-2 border-yellow-500';
                        achievementBadge.innerHTML = `
                            <div class="text-3xl mb-2">${achievement.icon}</div>
                            <div class="text-sm font-bold text-white">${achievement.name}</div>
                        `;
                        achievementsList.appendChild(achievementBadge);
                    });
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                document.getElementById('totalDamageDisplay').textContent = this.totalDamageDealt;
                document.getElementById('totalHealingDisplay').textContent = this.totalHealing;
                document.getElementById('weaponsPurchasedDisplay').textContent = this.totalWeaponsPurchased;
                document.getElementById('weaponsStolenDisplay').textContent = this.weaponsStolen;
            }
            
            showChallenges() {
                this.hideAllScreens();
                document.getElementById('challengesScreen').classList.remove('hidden');
                this.displayChallenges();
            }
            
            hideAllScreens() {
                const screens = ['homeScreen', 'shopScreen', 'battleScreen', 'challengesScreen', 'victoryScreen'];
                screens.forEach(screenId => {
                    document.getElementById(screenId).classList.add('hidden');
                });
            }
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        const Game = new TeamBattleGame();
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            Game.updateDisplay();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e345ecc5da5cd2',t:'MTc1NTAzNjMxNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
